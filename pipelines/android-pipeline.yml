resources:
  pipelines:
    - pipeline: build
      source: 'aapp_app_mobile [build]'
      trigger:
        branches:
          include:
            - main

variables:
  - group: aapp_testing_e2e

pool:
      vmImage: 'macOS-15'

steps:
- template: templates/shared.yml
  parameters:
    appId: ${{ parameters.androidAppId }}
    testSuiteId: ${{ parameters.testSuiteId }}
    buildArtifact: 'android-build'
    appFileName: 'android/app/build/outputs/apk/dev/release/app-dev-release.apk'
    platform: 'android'
    device: 'Samsung Galaxy S24-14.0'
    buildApiUrl: 'https://api-cloud.browserstack.com/app-automate/maestro/v2/android/build'
