appId: nl.amsterdam.app.dev
jsEngine: graaljs
env:
  VEHICLE_NAME: Mijn auto
---
- launchApp:
    clearState: true
    permissions:
      all: allow
- runScript: parking/scripts/getRandomLicensePlate.js
- runFlow: parking/permits/bezoekersvergunning/Initialize.yaml
- runFlow:
    file: parking/permits/bezoekersvergunning/StartSession.yaml
    env:
      LICENSE_PLATE: ${output.licensePlate}
      VEHICLE_NAME: ${VEHICLE_NAME}
- runFlow:
    file: parking/permits/bezoekersvergunning/EditSession.yaml
    env:
      LICENSE_PLATE: ${output.licensePlate}
- runFlow:
    file: parking/permits/bezoekersvergunning/StopSession.yaml
    env:
      LICENSE_PLATE: ${output.licensePlate}
- runFlow: 
    file: parking/permits/bezoekersvergunning/IncreaseBalance.yaml
    when:
      platform: Android
- runFlow: parking/permits/bezoekersvergunning/PermitDetails.yaml
- scrollUntilVisible:
    element:
      id: ParkingLicensePlatesButton
    direction: UP
- runFlow:
    file: parking/permits/bezoekersvergunning/RemoveLicensePlate.yaml
    env:
      LICENSE_PLATE: ${output.licensePlate}
      VEHICLE_NAME: ${VEHICLE_NAME}
